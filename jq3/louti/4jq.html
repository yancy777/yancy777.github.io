<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>demo4树形动画选项卡</title>
	<script src="js/jquery-1.11.3.js"></script>
	<style>
		ul li.yiji{
			/*list-style:none;*/
			list-style-image:url(img/-.gif);
		}
	</style>
	<script>
	$(function(){
		// $('li:has(ul)').click(function(){
		// 	//阻止事件冒泡
		// 	if(event.target==this){
		// 		if($(this).children().is(":hidden")){
		// 			$(this).css('list-style-image','url(img/-.gif)').children().show();
		// 		}else{
		// 			$(this).css('list-style-image','url(img/1.gif)').children().hide();
		// 		}
		// 	}
		// })
		// $('li').not(':has(ul)').css('list-style','none')




		//has()匹配含有选择器所匹配的元素的元素
		//is()根据选择器、元素或 jQuery 对象来检测匹配元素集合
		// $('li:has(ul)').css('list-style-image','url(img/-.gif)');
		$('li:has(ul)').click(function(ev){
			// ev.stopPropagation()
			// 
			if(ev.target==this){
				// alert(1)
				if($(this).children().is(':hidden')){
					$(this).css('list-style-image','url(img/-.gif)').children().show()
				}else{
					$(this).css('list-style-image','url(img/1.gif)').children().hide()
				}

			}
		})
		$('li').not(':has(ul)').css('list-style','none');
		 
	})
	</script>
</head>
<body>
	<ul>
		<li class="yiji">主题市场
			<ul>
				<li>运动派
					<ul>
						<li>三级菜单a</li>
						<li>三级菜单b</li>
						<li>三级菜单c</li>
						<li>三级菜单d</li>
					</ul>
				</li>
				<li>有车族
					<ul>
						<li>三级
							<ul>
								<li>四级</li>
								<li>四级</li>
								<li>四级</li>
							</ul>
						</li>
						<li>三级</li>
						<li>三级</li>
						<li>三级</li>
					</ul>
				</li>
				<li>生活家</li>
			</ul>
		</li>
		<li class="yiji">特色购物
			<ul>
				<li>淘宝二手
					<ul>
						<li>淘宝二手--a</li>
						<li>淘宝二手--b</li>
						<li>淘宝二手--c</li>
						<li>淘宝二手--d</li>
					</ul>
				</li>
				<li>拍卖会</li>
				<li>爱逛街</li>
				<li>全球购</li>
				<li>淘女郎</li>
			</ul>
		</li>
		<li class="yiji">优惠促销
			<ul>
				<li>天天特价</li>
				<li>免费试用</li>
				<li>清仓</li>
				<li>1元起拍</li>
			</ul>
		</li>
		<li>工具</li>
	</ul>
</body>
</html>