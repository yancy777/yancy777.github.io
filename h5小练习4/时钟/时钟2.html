<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body style="background-color: #ccc">

<canvas id="myCanvas" width="500" height="500" style="background-color: #fff"></canvas>


<script>

    var oCanvas =document.getElementById("myCanvas");

    var context = oCanvas.getContext("2d");


    context.translate(oCanvas.width/2,oCanvas.height/2);
    context.rotate(-Math.PI/2);

   setInterval(drawTime,1000);
    drawTime();
    function drawTime(){

       context.clearRect(-250,-250,500,500)/*因为绘制的原点变了，所以要清除起始坐标也发生了变化*/
        var now = new Date();
        var sec = now.getSeconds();
        var min = now.getMinutes();
        var hr  = now.getHours();
        hr = hr>=12 ? hr-12 : hr;

        /*时针的刻度*/
        for(var i = 0 ;i<12;i++){
            context.beginPath();
            context.lineWidth= 6;
            context.rotate(Math.PI/6)
            context.moveTo(100,0)
            context.lineTo(140,0)
            context.stroke()
        }

        /*时针的刻度*/
        for(var i = 0 ;i<60;i++){
            context.beginPath();
            context.lineWidth= 3;
            context.rotate(Math.PI/30)
            context.moveTo(120,0)
            context.lineTo(140,0)
            context.stroke()
        }
        context.save()
        /*时针*/
        context.beginPath();
        context.lineWidth = 6;
        context.rotate((hr+min/60+sec/3600)*(Math.PI/6))
        console.log(hr)
        context.moveTo(0,0)
        context.lineTo(50,0)
        context.stroke()
        context.restore()


        context.save()
        /*分针*/
        context.beginPath();
        context.lineWidth = 4;
        context.rotate((min+sec/60)*(Math.PI/30))
        context.moveTo(0,0)
        context.lineTo(60,0)
        context.stroke()
        context.restore()


        context.save()
        /*分针*/
        context.beginPath();
        context.lineWidth = 2;
        context.strokeStyle="red"
        context.rotate(sec*(Math.PI/30))
        context.moveTo(0,0)
        context.lineTo(80,0)
        context.stroke()
        context.restore()



    }







</script>
</body>
</html>