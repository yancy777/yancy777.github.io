<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>动态生成表格</title>
	<script type="text/javascript">
		window.onload = function(){
			var createBtn = document.getElementById("createbtn");
			var container = document.getElementById("container"); //插入表格的容器
			createBtn.onclick = function(){
				setInterval(createTable,500);
			}

			function createTable(){
				container.innerHTML="";
				var rowValue = document.getElementById("rowtext").value;
				var cellValue = document.getElementById("celltext").value;
				var tb = document.createElement("table");
				tb.border="1";
				var tbody = document.createElement("tbody");
				tb.appendChild(tbody);
				for(var i=0;i<rowValue;i++){
					var tr = document.createElement("tr");
					for(var j = 0; j<cellValue;j++){
						var td = document.createElement("td");
						td.innerHTML = Math.floor(Math.random() * 1000);
						td.style.width="30px";
						td.style.height="30px";
						td.style.textAlign="center";

						//生成随机颜色的另一种算法
						// var bgstr = Math.floor(Math.random()*0xFFFFFF).toString(16).toUpperCase();
						// while(bgstr.length<6){
						// 	bgstr = "0"+bgstr;
						// }

						var n1 = Math.floor(Math.random()*255);
						var n2 = Math.floor(Math.random()*255);
						var n3 = Math.floor(Math.random()*255);
						td.style.backgroundColor = "rgb("+n1+","+n2+","+n3+")";
						tr.appendChild(td);
					}
					tbody.appendChild(tr);
				}
				container.appendChild(tb);
			}
		}
	</script>
</head>
<body>
	<div>
		行：<input type="text" id="rowtext" />
		列：<input type="text" id="celltext" />
		<input type="button" id="createbtn" value="生 成" />
	</div>
	<div id="container" style="margin: 20px;">
		
	</div>
</body>
</html>